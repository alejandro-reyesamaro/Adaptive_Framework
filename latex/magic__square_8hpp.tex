\hypertarget{magic__square_8hpp}{\section{include/magic\-\_\-square.hpp \-File \-Reference}
\label{magic__square_8hpp}\index{include/magic\-\_\-square.\-hpp@{include/magic\-\_\-square.\-hpp}}
}


\-Magic \-Square benchmark.  


\subsection*{\-Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classMagicSquare}{\-Magic\-Square}
\begin{DoxyCompactList}\small\item\em \-Magic \-Square benchmark. \end{DoxyCompactList}\item 
struct \hyperlink{structMagicSquare_1_1XRef}{\-Magic\-Square\-::\-X\-Ref}
\end{DoxyCompactItemize}
\subsection*{\-Defines}
\begin{DoxyCompactItemize}
\item 
\hypertarget{magic__square_8hpp_a08fe385c0455a06d2d4713f87ea3b168}{\#define {\bfseries \-X\-Set}(xr, line, col, diag1, diag2)~xr.\-l = line; xr.\-c = col; xr.\-d1 = diag1; xr.\-d2 = diag2}\label{magic__square_8hpp_a08fe385c0455a06d2d4713f87ea3b168}

\item 
\hypertarget{magic__square_8hpp_abc9c2142ff5fbe9e0014f12484ad19c9}{\#define {\bfseries \-X\-Get\-L}(xr)~xr.\-l}\label{magic__square_8hpp_abc9c2142ff5fbe9e0014f12484ad19c9}

\item 
\hypertarget{magic__square_8hpp_aa54a553c860cec32c9c47b26044820fe}{\#define {\bfseries \-X\-Get\-C}(xr)~xr.\-c}\label{magic__square_8hpp_aa54a553c860cec32c9c47b26044820fe}

\item 
\hypertarget{magic__square_8hpp_aae4bd6187bbf650594614dc43135b1bf}{\#define {\bfseries \-X\-Is\-On\-D1}(xr)~(xr.\-d1 != 0)}\label{magic__square_8hpp_aae4bd6187bbf650594614dc43135b1bf}

\item 
\hypertarget{magic__square_8hpp_a8dc1853267f4288b2d9d0f1a6b356d2b}{\#define {\bfseries \-X\-Is\-On\-D2}(xr)~(xr.\-d2 != 0)}\label{magic__square_8hpp_a8dc1853267f4288b2d9d0f1a6b356d2b}

\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
\-Magic \-Square benchmark. \-Adaptive search \-C++

\begin{DoxyAuthor}{\-Author}
\-Florian \-Richoux 
\end{DoxyAuthor}
\begin{DoxyDate}{\-Date}
2013-\/01-\/21
\end{DoxyDate}
sol\mbox{[}\mbox{]} = vector of values (by line), sol\mbox{[}0..square\-\_\-length-\/1\mbox{]} contain the first line, sol\mbox{[}square\-\_\-length-\/2$\ast$square\-\_\-length-\/1\mbox{]} contain the 2nd line, ... values are in 1..square\-\_\-length$\ast$square\-\_\-length

\-The constraints are\-: for each line, column, diagonal 1 ($\backslash$) and 2 (/) the sum must be equal to avg = square\-\_\-length $\ast$ (square\-\_\-length$\ast$square\-\_\-length + 1) / 2;

err\-\_\-l\mbox{[}i\mbox{]} = -\/avg + sum of line i err\-\_\-c\mbox{[}j\mbox{]} = -\/avg + sum of column j err\-\_\-d1 = -\/avg + sum of diagonal 1 err\-\_\-d2 = -\/avg + sum of diagonal 2

square\-\_\-length-\/1 square\-\_\-length-\/1 \-The total cost = \-Sum $|$err\-\_\-l\mbox{[}i\mbox{]}$|$ + \-Sum $|$err\-\_\-c\mbox{[}i\mbox{]}$|$ + $|$err\-\_\-d1$|$ + $|$err\-\_\-d2$|$ i=0 j=0

\-The projection on a variable at i, j\-: // err\-\_\-var\mbox{[}i\mbox{]}\mbox{[}j\mbox{]} = $|$ err\-\_\-l\mbox{[}i\mbox{]} + err\-\_\-c\mbox{[}j\mbox{]} + \-F1(i,j) + \-F2(i,j) $|$ \-S\-L\-O\-W version err\-\_\-var\mbox{[}i\mbox{]}\mbox{[}j\mbox{]} = $|$ err\-\_\-l\mbox{[}i\mbox{]} + err\-\_\-c\mbox{[}j\mbox{]} + \-F1(i,j) + \-F2(i,j) $|$ with \-F1(i,j) = err\-\_\-d1 if i,j is on diagonal 1 (i.\-e. i=j) else = 0 and \-F2(i,j) = err\-\_\-d2 if i,j is on diagonal 2 (i.\-e. j=square\-\_\-length-\/1-\/i) else = 0 